.. _shell-doc:

.. toctree::
   :maxdepth: 2
   :glob:

SHELL 学习
=============

基础语法
---------

exist 返回码含义
````````````````
常用格式： exit n(返回码)

+--------+---------------------------------------+
| 退出码 | 约定                                  |
+========+=======================================+
| 0      | 表示成功（Zero - Success）            |
+--------+---------------------------------------+
| 非0    | 表示失败（Non-Zero- Failure）         |
+--------+---------------------------------------+
| 2      | 表示用法不当（Incorrect Usage）       |
+--------+---------------------------------------+
| 127    | 表示命令没有找到（Command Not Found） |
+--------+---------------------------------------+
| 126    | 表示不是可执行的（Not an executable） |
+--------+---------------------------------------+
| >=128  | 信号产生                              |
+--------+---------------------------------------+

$$,$?,$0 等变量的含义
``````````````````````

+----+-------------------------------------------------------------------------+
| $# | 是传给脚本的参数个数                                                    |
+====+=========================================================================+
| $0 | 是脚本本身的名字                                                        |
+----+-------------------------------------------------------------------------+
| $1 | 是传递给该shell脚本的第一个参数                                         |
+----+-------------------------------------------------------------------------+
| $2 | 是传递给该shell脚本的第二个参数                                         |
+----+-------------------------------------------------------------------------+
| $@ | 是传给脚本的所有参数的列表                                              |
+----+-------------------------------------------------------------------------+
| $* | 是以一个单字符串显示所有向脚本传递的参数，与位置变量不同，参数可超过9个 |
+----+-------------------------------------------------------------------------+
| $$ | 是脚本运行的当前进程ID号                                                |
+----+-------------------------------------------------------------------------+
| $? | 是显示最后命令的退出状态，0表示没有错误，其他表示有错误                 |
+----+-------------------------------------------------------------------------+


Base内建的命令
``````````````
::

    command -v foo >/dev/null 2>&1 || { echo >&2 "I require foo but it's not installed.  Aborting."; exit 1; }
    type foo >/dev/null 2>&1 || { echo >&2 "I require foo but it's not installed.  Aborting."; exit 1; }
    hash foo 2>/dev/null || { echo >&2 "I require foo but it's not installed.  Aborting."; exit 1; }>

文件判断参数
````````````

+------+------------------------------------------------------------------------------+
| 参数 | 含义                                                                         |
+======+==============================================================================+
| -a   | file exists.                                                                 |
+------+------------------------------------------------------------------------------+
| -b   | file exists and is a block special file.                                     |
+------+------------------------------------------------------------------------------+
| -c   | file exists and is a character special file.                                 |
+------+------------------------------------------------------------------------------+
| -d   | file exists and is a directory.                                              |
+------+------------------------------------------------------------------------------+
| -e   | file exists (just the same as -a).                                           |
+------+------------------------------------------------------------------------------+
| -f   | file exists and is a regular file.                                           |
+------+------------------------------------------------------------------------------+
| -g   | file exists and has its setgid(2) bit set.                                   |
+------+------------------------------------------------------------------------------+
| -G   | file exists and has the same group ID as this process.                       |
+------+------------------------------------------------------------------------------+
| -k   | file exists and has its sticky bit set.                                      |
+------+------------------------------------------------------------------------------+
| -L   | file exists and is a symbolic link.                                          |
+------+------------------------------------------------------------------------------+
| -n   | string length is not zero.                                                   |
+------+------------------------------------------------------------------------------+
| -o   | Named option is set on.                                                      |
+------+------------------------------------------------------------------------------+
| -O   | file exists and is owned by the user ID of this process.                     |
+------+------------------------------------------------------------------------------+
| -p   | file exists and is a first in, first out (FIFO) special file or named pipe.  |
+------+------------------------------------------------------------------------------+
| -r   | file exists and is readable by the current process.                          |
+------+------------------------------------------------------------------------------+
| -s   | file exists and has a size greater than zero.                                |
+------+------------------------------------------------------------------------------+
| -S   | file exists and is a socket.                                                 |
+------+------------------------------------------------------------------------------+
| -t   | file descriptor number fildes is open and associated with a terminal device. |
+------+------------------------------------------------------------------------------+
| -u   | file exists and has its setuid(2) bit set.                                   |
+------+------------------------------------------------------------------------------+
| -w   | file exists and is writable by the current process.                          |
+------+------------------------------------------------------------------------------+
| -x   | file exists and is executable by the current process.                        |
+------+------------------------------------------------------------------------------+
| -z   | string length is zero.                                                       |
+------+------------------------------------------------------------------------------+

